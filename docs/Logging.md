# Logging into a Cluster (ssh)

**SLURM** (*Simple Linux Utility for Resource Management*) is a workload manager used on many high-performance computing (HPC) clusters. It helps schedule jobs on compute nodes and manage resources efficiently.



## Access

To access the cluster, you need to use a terminal on Linux / macOS.

![Image](assets/Terminal.png){ style="display: block; margin: auto;" }


On Windows, you can use a terminal emulator like [MobaXterm](https://mobaxterm.mobatek.net). 
  
  
To access the cluster, you typically use a secure shell (ssh) from your local machine. Open a new shell and enter the following command:

```bash title="Connexion" linenums="1" hl_lines="2"
# Function to add two numbers
ssh username@cluster.address.edu

# Example usage
ssh student1@core.cluster.france-bioinformatique.fr
```
  
Replace username with your cluster *login name* and *cluster.address.edu* with the actual domain or IP of the cluster. You will be prompted to enter your **password**, which is usually provided by the cluster administrator.
</br>
</br>

!!! tip "Extra Tip for Linux / macOS users"
    If you need to connect to the cluster frequently, it may be useful to save the address in an alias, stored in the *.bashrc* file. All you have to do is enter the alias followed by the enter key to access the cluster directly:

```bash
echo "alias ifb='ssh student1@core.cluster.france-bioinformatique.fr'" >> ~/.bashrc
source ~/.bashrc
```
</br>
</br>
Once connected, you’ll land in your home directory on the cluster’s head node or login node. This is where you can prepare your job scripts, transfer files, and monitor jobs. 


## Request your project directory 

Some cluster managers propose limited use of the home directory and prefer data to be hosted in a dedicated project directory. In this case, the project manager (PI) applies to the cluster administrator for a project space.

## Organizing data in the project directory
Once the project file has been created, it is essential to get the project off to a good start, by deciding on an organisation that must be respected over time.    
Choose a structure that works well for you and stick to it as much as possible. Below is a suggested way of organising the code:

```
my_project/
├── Cluster_logs/          		
├── code/          		        # Script directory
│   └── myscript.sh
│   └── setup_env.R             
├── data/          		        # Raw data directory
│   └── data.csv
├── results/     		        # Analysis results directory
├── tests/          		    # Temporary test code
│   └── my_temporary_script.R
├── tmp/                        
├── .gitignore 
└── README.md
```

**Mandatory**:  
- `README.md` file. This file is arguably **the most important** file you’ll create in your project. It should provide a clear overview of the code’s purpose, including:
    - The goal of the project
    - Set-up and execution instructions
    - If no separate documents exist (e.g., architecture diagram or system maintenance guide), a high-level explanation of how the code is structured and works

!!! warning "The `README.md` is not the place to describe individual functions in detail"  
     Keep it high-level and accessible.  
     The `README.md` is a living document. As your code evolves, make sure to keep the documentation up to date.  
     Don’t postpone writing it until the end of the project — by then, you’ll likely be racing against deadlines and already thinking about your next project.  
     Start documenting early. It will save you time and effort later. 

**File / directories to be created:**  
- `Cluster_logs` directory. It contains logs files redirected from standard output (`.out`) and standard error (`.err`).
- `code/` directory. It contains scripts, in the form of `.R`, `.sh`, `.py` files.  
- `data/` directory. It contains data to be analyzed (.csv, .vcf...).  
- `results/` directory. It contains outputs. It is recommended to add subdirectories in this directory.  
- `tests/` directory. Code tests should go in here.  
- `tmp/`directory. It is used to store temporary files generated by the programs or workflows within this project. It serves as a local alternative to the system’s default $TMPDIR, which is often saturated or unreliable on shared cluster environments.  
- `.gitignore`. In this file, you add everything you do not want ending up in your remote repository. As a minimum, add `tmp/` file in there.  


To create directories: `mkdir -p Cluster_logs data code results tests tmp` 
